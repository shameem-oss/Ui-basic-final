"use strict";(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[26391],{114805:function(e,t,o){o.d(t,{m:function(){return l}});var i=o(156519);"undefined"!=typeof window&&(window.showPopUpdatePassword=function(e={}){});var s=o(649811),n=o(866704);const l={data:{default_country:"",fetched_default_country:!1},update_top_login:function(){window.GB_USER_DROPDOWN&&window.GB_USER_DROPDOWN.update(),this.get_default_country("force")},async check_freeShippingTips_promise(){return await(0,s.A)({method:"POST",url:"/api/common/freeShippingTips/get"})},async get_default_country(e){var t=this;return e||!t.data.fetched_default_country?(t.data.fetched_default_country=!0,t.data.default_country="",t.data.default_country):t.data.default_country},async get_user_profile(){const e=await(0,s.A)({url:"api/user/account_setting/isCouponActivityOpen/get"});0==e.code&&e.info&&e.info.result&&(1==e.info.result.pointActOpen||1==e.info.result.couponActOpen)&&(document.querySelectorAll(".j-profile-nopenum").forEach((e=>{e.classList.remove("she-hide")})),this.show_account_tips(1))},show_account_tips:function(e){!(0,i.getSessionStorage)("isCheckedAccountTips")&&e&&document.querySelectorAll(".j-account-nopenum").forEach((e=>{e.classList.remove("she-hide")}))},hide_account_tips:function(){(0,n.S4)({selector:".j-header-username-icon",type:"mouseenter",cb:function(){const e=document.querySelectorAll(".j-account-nopenum");(0,n.S4)({selector:e,type:"hasClass",className:"she-hide"})||((0,n.S4)({selector:e,type:"addClass",className:"she-hide"}),(0,i.setSessionStorage)({key:"isCheckedAccountTips",value:"1"}))}})},async toggle_account_survey_tips(){const e=await(0,s.A)({url:"/user/survey"});"0"==e.code&&e.info&&e.info.questionnaires&&e.info.questionnaires.length&&(this.show_account_tips(1),this.hide_account_tips(),window.location.href.indexOf("/user/survey")>-1?(0,n.S4)({selector:".j-survey-dot",type:"addClass",className:"she-hide"}):(0,n.S4)({selector:".j-survey-dot",type:"removeClass",className:"she-hide"})),(0,n.S4)({selector:".j-header-survey",type:"click",cb:()=>{(0,n.S4)({selector:".j-survey-dot",type:"addClass",className:"she-hide"})}})}}},274019:function(e,t,o){o.d(t,{b:function(){return l},p:function(){return n}});var i=o(681330),s=o.n(i);const n=function(e={},t={}){const{name_en:o=""}=e,{component_id:i="",name:s=""}=t;return`campaign_${o}_${i}_${s}`};function l(e,t,o){const i=n(e,t);SHEIN_LOGIN.show({cb:s()(o)?o:()=>{location.reload()},sextra:i,gextra:i})}},944927:function(e,t,o){function i({fun:e=null,interval:t=1e3,wait:o=1e3}={}){if("function"!=typeof e)return;let i=null,s=new Date;return()=>{let n=new Date;window.clearTimeout(i),n-s>=t&&(e.call(this),s=n),i=window.setTimeout((()=>{e.call(this,{isWait:!0}),s=n}),o)}}function s(e,t){let o=Math.pow(10,Number(t)+2);return(Math.round(e*o)/o).toFixed(t)}o.d(t,{A:function(){return c}});var n=o(665640),l="undefined"==typeof window?o.g:window;class a{constructor({scrollContainer:e=null,scrollTopMask:t=0,scrollBottomMask:o=0,section:i=[],interval:s=1e3,wait:l=null,callback:a=null,targetExposeRadio:r=0,targetExposeTime:d=1e3}={}){try{if("function"!=typeof a)throw"Parameter illegal";this.initScrollEventConfig({interval:s,wait:l}),this.initScroll({scrollContainer:e,scrollTopMask:t,scrollBottomMask:o}),this.initExposeConfig({targetExposeRadio:r,targetExposeTime:d,callback:a}),this.initListInfo({section:i}),this.setScrollEvent()}catch(e){n.error(e)}}initScrollEventConfig({interval:e,wait:t}={}){this.interval=e,this.wait=t}initScroll({scrollContainer:e,scrollTopMask:t,scrollBottomMask:o}={}){let s={event:null,dom:null,height:null,width:0,topMask:0,position:{top:0,bottom:0,left:0,right:0}};if("string"==typeof e)s.dom=document.querySelectorAll(e);else if(e instanceof Window)s.dom=[window];else if(e instanceof Element)s.dom=[e];else{if(!Array.isArray(e))throw new Error("Invalid scroll container");s.dom=e}if(s.event=i.call(this,{fun:this.exposeHandler,interval:this.interval,wait:this.wait}),s.topMask=t,s.bottomMask=o,this.scrollContainer=s,!s.dom)throw new Error("scroll container not found");const n=e=>{let i,s,n,l={top:0,bottom:0,left:0,right:0};if(e===window)i=window.innerHeight,s=window.innerWidth;else{i=e.clientHeight,s=e.clientWidth;let t=e.getBoundingClientRect();l.top=t.top,l.bottom=t.bottom,l.left=t.left,l.right=t.right}return n=i-o-t,{height:i,width:s,viewAreaHeight:n,position:l}};if(1===s.dom.length){let e=n(s.dom[0]);s.height=e.height,s.width=e.width,s.viewAreaHeight=e.viewAreaHeight,s.position=e.position}else s.height=[],s.width=[],s.viewAreaHeight=[],s.position=[],s.dom.forEach((e=>{let t=n(e);s.height.push(t.height),s.width.push(t.width),s.viewAreaHeight.push(t.viewAreaHeight),s.position.push(t.position)}))}initExposeConfig({targetExposeRadio:e,targetExposeTime:t,callback:o}={}){this.targetExposeRadio=e,this.targetExposeTime=t,this.callback=o,this.targetExposeNum=Math.ceil(this.targetExposeTime/this.interval),this.exposeList={},this.HasBeenExpose={}}initListInfo({section:e=[]}={}){this.section=e,e.forEach((e=>{let t={className:e.container,dom:null,rect:null,rowNum:0,maxRowNum:0,lastRowContentNum:0},o={className:e.content,dom:null,rect:null},i={className:e.target};e.container=t,e.content=o,e.target=i,this.getListDomInfo(e),this.getListItemRectInfo(e)}))}getListDomInfo({container:e,content:t}={}){let o=document.getElementsByClassName(e.className);if(o.length<=0)return;e.dom=o[0];let i=e.dom.getElementsByClassName(t.className);i.length<=0||(t.dom=i)}getListItemRectInfo({container:e,content:t}={}){if(!e.dom||e.dom.length<=0||!t.dom||t.dom.length<=0)return;e.rect=this.getBoundingClientRectRelativeScroll({dom:e.dom,type:"container"}),t.rect=this.getBoundingClientRectRelativeScroll({dom:t.dom[0],type:"content"});let o=0,i=0;e.rowNum=o=Math.floor(e.rect.width/t.rect.width),e.maxRowNum=Math.ceil(t.dom.length/o),i=t.dom.length%o,e.lastRowContentNum=0===i?o:i}getListRectInfo(){this.section.forEach((e=>{this.getListDomInfo(e),this.getListItemRectInfo(e)}))}setScrollEvent(){let e=this.scrollContainer;e.dom.length&&e.dom.forEach((t=>{t.addEventListener("scroll",e.event);let o=new Event("scroll");t.dispatchEvent(o)}))}removeScrollEvent(){let e=this.scrollContainer;e.dom.length&&e.dom.forEach((t=>{t.removeEventListener("scroll",e.event)}))}getBoundingClientRectRelativeScroll({dom:e=null,type:t="container"}={}){if(!e||!t)return{};let o=e.getBoundingClientRect(),i={top:0,bottom:0,height:0,width:0,left:0,right:0,x:0,y:0},{position:s,topMask:n}=this.scrollContainer;switch(t){case"container":case"content":case"target":i.top=o.top-s.top-n,i.bottom=o.bottom-s.top-n,i.y=o.y-s.top-n}return{top:i.top,bottom:i.bottom,height:i.height||o.height,width:i.width||o.width,left:i.left||o.left,right:i.right||o.right,x:i.x||o.x,y:i.y}}exposeHandler({isWait:e=!1}={}){let t={};this.section.forEach((({code:o,container:i,content:s,target:n,averageCotent:l})=>{if(!(i.dom&&s.dom&&s.rect.height||(this.getListDomInfo({container:i,content:s}),this.getListItemRectInfo({container:i,content:s}),i.dom&&s.dom)))return;if(!this.checkContainerInScreen({container:i}))return this.exposeList[o]={};let{beginRow:a,endRow:r}=this.getExposeLine({container:i,content:s,averageCotent:l}),d=this.getContentListByRow({container:i,content:s,beginRow:a,endRow:r}),c=Object.prototype.hasOwnProperty,g={},u={},h=[];!c.call(this.exposeList,o)&&(this.exposeList[o]={}),d.forEach((t=>{let i=t.getAttribute("data-expose-id");if(i=`${i}_${o}`,c.call(this.HasBeenExpose,i))return;let s=this.computedTargetExpose({content:t,target:n});if(!s.expose)return;let l=0;l=e?this.targetExposeNum:c.call(this.exposeList[o],i)?g[i]=++this.exposeList[o][i]:u[i]=1;let a=s.targetDom;l>=this.targetExposeNum&&(h.push({content:t,target:a}),this.HasBeenExpose[i]={content:t,target:a})})),this.exposeList[o]=Object.assign({},g,u),h.length>0&&(t[o]=h)})),this.callback({list:t})}checkContainerInScreen({container:e}={}){let t=e.rect=this.getBoundingClientRectRelativeScroll({dom:e.dom,type:"container"}),{viewAreaHeight:o}=this.scrollContainer;return t.top<o&&t.bottom>0}getExposeLine({container:e,content:t,averageCotent:o}){let{viewAreaHeight:i}=this.scrollContainer,s=e.rect,n=null;this.exposeInfo=n=s.top>0?{type:"head",area:i-s.top}:s.bottom<i?{type:"foot",area:s.bottom}:{type:"full",area:i};let{beginRow:l=0,endRow:a=0}=o?this.getExposeLineByRatio({container:e,content:t,exposeInfo:n}):this.getExposeLineByBinarySearch({container:e,content:t,exposeInfo:n});return{exposeInfo:n,beginRow:l,endRow:a}}getExposeLineByBinarySearch({container:e,content:t,exposeInfo:o}){let{viewAreaHeight:i}=this.scrollContainer,s=[...t.dom].filter(((t,o)=>o%e.rowNum==0));l.templateList=s;let n,a=0,r=0;switch(o.type){case"head":n=s.findIndex((e=>this.getBoundingClientRectRelativeScroll({dom:e,type:"content"}).bottom>=i)),a=1,r=n<0?s.length:n+1;break;case"foot":a=s.reverse().findIndex((e=>this.getBoundingClientRectRelativeScroll({dom:e,type:"content"}).top<0)),r=e.maxRowNum,a=a<0?1:s.length-a;break;case"full":a=this.binarySearch({type:"begin",list:s})+1,r=this.binarySearch({type:"end",list:s})+1}return{beginRow:a,endRow:r}}binarySearch({type:e="begin",list:t,start:o=0,end:i=t.length}){let s=parseInt(o+(i-o)/2);if(s===o)return s;let n=this.getBoundingClientRectRelativeScroll({dom:t&&t[s],type:"content"});switch(e){case"begin":return n.top>0?this.binarySearch({type:e,list:t,start:o,end:s}):n.bottom<=0?this.binarySearch({type:e,list:t,start:s,end:i}):s;case"end":let{viewAreaHeight:l}=this.scrollContainer;return n.top>=l?this.binarySearch({type:e,list:t,start:o,end:s}):n.bottom<l?this.binarySearch({type:e,list:t,start:s,end:i}):s}}getExposeLineByRatio({container:e,content:t,exposeInfo:o}={}){let i=e.rect,n=t.rect,l=0,a=0,r=s(o.area/n.height,2);switch(o.type){case"head":l=1,a=Math.ceil(r);break;case"foot":case"full":let e=0,t=0,o=0;t=Math.abs(i.top),e=s(t/n.height,2),o=1-Number(e.split(".")[1]/100),l=Math.ceil(e);let d=0;d=s(r-o,2),a=l+Math.ceil(d)}return{beginRow:l,endRow:a}}getContentListByRow({container:e,content:t,beginRow:o=1,endRow:i=1}={}){let s=i-o+1,{rowNum:n,maxRowNum:l,lastRowContentNum:a}=e,r=i!==l?s*n:(s-1)*n+a;return[...t.dom].slice((o-1)*n,(o-1)*n+r)}computedTargetExpose({content:e,target:t}={}){let{viewAreaHeight:o}=this.scrollContainer,i=e.getElementsByClassName(t.className)[0],s=null,n=0,l=0;return i?(s=this.getBoundingClientRectRelativeScroll({dom:i,type:"target"}),n=s.top<=0?s.bottom:s.bottom>o?o-s.top:s.height,n<=0?{expose:!1}:(l=n/s.height,l<this.targetExposeRadio?{expose:!1}:{expose:!0,targetDom:i})):{expose:!1}}}var r=o(665640),d="undefined"==typeof window?o.g:window;d.ep||(d.ep={});class c{constructor(){this.instance=null,this.config={},this.prefix="j-expose__",this.defaultConfig={scrollContainer:d,scrollTopMask:0,scrollBottomMask:0,section:[{code:"list",container:"container-list",content:"content-goodsls",target:"target-goods-img",averageCotent:!0}],interval:100,wait:1e3,targetExposeTime:1e3,targetExposeRadio:0}}initInstance({config:e={},getExposeData:t=null}={}){if(this.instance)return this.adjustContainerInfo();try{this.config=e=Object.assign(this.defaultConfig,e,{callback({list:e={}}={}){t&&Object.keys(e).length>0&&t({list:e})}});let o="";this.config.section.forEach((e=>{if(!e.container||!e.content||!e.target)throw"miss expose item config";!o&&(o=e.code),e.container=`${this.prefix}${e.container}`,e.content=`${this.prefix}${e.content}`,e.target=`${this.prefix}${e.target}`,e.averageCotent=!Object.prototype.hasOwnProperty.call(e,"averageCotent")||e.averageCotent})),d.ep[o]=this.instance=new a(e),this.resizeScrollContainer()}catch(e){r.error(e)}}triggerScroll(){var e,t;null!=this&&null!==(e=this.instance)&&void 0!==e&&null!==(t=e.scrollContainer)&&void 0!==t&&t.dom&&this.instance.scrollContainer.dom.forEach((e=>{let t=new Event("scroll");e.dispatchEvent(t)}))}adjustContainerInfo(){this.instance&&(this.instance.getListRectInfo(),this.triggerScroll())}adjustScrollMask(e){this.instance.scrollContainer.topMask=e}resizeScrollContainer(){d.addEventListener("resize",i.call(this,{fun:({isWait:e}={})=>{var t,o;null!=this&&null!==(t=this.instance)&&void 0!==t&&null!==(o=t.scrollContainer)&&void 0!==o&&o.dom&&this.instance.scrollContainer.dom.forEach((e=>{e.removeEventListener("scroll",this.instance.scrollContainer.event)})),e&&(this.instance.getListRectInfo(),this.instance.setScrollEvent())},interval:100,wait:800}))}refreshHasBeenExpose(){this.instance&&(this.instance.HasBeenExpose={})}}},352584:function(e,t,o){o.d(t,{C:function(){return m}});var i=o(441179),s=o(885195),n=o(671717),l=o(367524),a=o(645747),r=o(961437),d=o(623187),c=o(588223),g=o(12651),u=o(507709),h=o(866704);class m{constructor({listLanguage:e={},getGoodsUrl:t="",itemConfig:o}={}){this.listLanguage=e,t&&(this.getGoodsUrl=t),"undefined"!=typeof window&&(this.itemConfig=o||{},this.language=gbCommonInfo&&gbCommonInfo.language,this.IS_RW=gbCommonInfo&&gbCommonInfo.IS_RW,this.lang=gbCommonInfo&&gbCommonInfo.lang,this.GB_cssRight=gbCommonInfo&&gbCommonInfo.GB_cssRight,this.csrfToken=gbCommonInfo&&gbCommonInfo.csrf_token||"",this.getGoodsUrl=h.qK,this.htmlDecode=e=>(0,l.C)({text:e}),this.mallInfoForSite=[],this.atomFields={})}async getProductInfo({goods:e=[],requestFields:t={},itemConfig:o={},pageKey:i="",subPageKey:s="",sceneKey:n="TWO_IN_A_ROW",cccParams:l,caller:a,isPaid:u}={}){var h;if(!e.length||"undefined"==typeof window)return;this.fields=t||{},this.itemConfig=o||{},this.pageKey=i,this.subPageKey=s,this.sceneKey=n,this.caller=a,this.cccParams=l,this.isPaid=u,this.atomFields={...this.fields};const m=[(0,c.c)(),r.A.getAtomicInfo({goods:e,fields:this.atomFields,pageKey:i,subPageKey:s,sceneKey:n,caller:a,cccParams:l,isPaid:u,cb:e=>{this.dealExt({goodsItem:e})}})];this.abtInfo={};const f=[];(0,d.dm)({pageKey:s||i})&&t.cccTspBadges&&f.push("NewPosition"),f.join()&&m.push(new Promise((e=>{g.T.getUserAbtResult({newPosKeys:f}).then((t=>{this.abtInfo=t,e()}))})));const[p]=await Promise.all(m);return this.mallInfoForSite=null!=p&&null!==(h=p.mallInfoForSite)&&void 0!==h&&h.length?p.mallInfoForSite:[],await this.getAssociatedPromotionInfo({goods:e,caller:this.caller}),e.forEach((e=>{this.dealData({goodsItem:e}),(0,d.GG)({goodsItem:e,field:"getInfoLoading",value:!1})})),Promise.resolve(e)}async getRelateColorProductInfo({goods:e=[],colorAtomFields:t,pageKey:o,subPageKey:s,sceneKey:n,caller:l,cccParams:a,isPaid:c}={}){if(!e.length||"undefined"==typeof window)return;let g=[];if(e.forEach((e=>{var t;null!==(t=e.relatedColor)&&void 0!==t&&t.length&&(g=g.concat(e.relatedColor))})),!g.length)return;Object.assign(this.atomFields,{baseInfo:!0});const u=await r.A.getAtomicInfo({goods:g,fields:t||this.atomFields,pageKey:o||this.pageKey,subPageKey:s||this.subPageKey,sceneKey:n||this.sceneKey,caller:l||this.caller,cccParams:a||this.cccParams,isPaid:c||this.isPaid,cb:e=>{this.dealExt({goodsItem:e})}});await this.getAssociatedPromotionInfo({goods:u,caller:this.caller}),u.forEach((e=>{(0,d.GG)({goodsItem:e,field:"getInfoLoading",value:!0}),e.goods_img=(0,i.Y)({img:e.goods_img}),this.dealData({goodsItem:e}),this._preloadImgs(e)}))}async getRelatedColorAtomicInfo({goods:e,colorAtomFields:t,pageKey:o,sceneKey:i,subPageKey:s,caller:n,cccParams:l,isPaid:a,mallInfo:d,abtInfo:c,promotionInfoFromServer:g,language:h}){let m=[];e.forEach((e=>{var t;null!==(t=e.relatedColor)&&void 0!==t&&t.length&&(m=m.concat(e.relatedColor))})),m.length&&(await r.A.getAtomicInfoNew({goods:m,fields:t,pageKey:o,subPageKey:s,sceneKey:i,caller:n,cccParams:l,isPaid:a,mallInfo:d,abtInfo:c,cb:e=>{this.dealExt({goodsItem:e})}}),e=(0,u.O)({products:m,promotionInfoFromServer:g,language:h}))}dealData({goodsItem:e}){this.dealSaleout({goodsItem:e}),this.dealUnitDiscount({goodsItem:e}),this.dealBadge({goodsItem:e,abtInfo:this.abtInfo}),this.dealSeriesBrandAnalysis({goodsItem:e}),this.dealSeriesBrandLogo({goodsItem:e}),this.dealPlusSize({goodsItem:e}),this.dealLeftStock({goodsItem:e}),this.dealLinkQuantity({goodsItem:e}),this.dealReducePrice({goodsItem:e}),this.dealWishStatus({goodsItem:e}),this.dealSellingPoints({goodsItem:e}),this.dealLocalShipping({goodsItem:e}),this.dealSellAttr({goodsItem:e}),this.dealTspLabels({goodsItem:e}),this.dealDisplayWindowInfo({goodsItem:e})}async _preloadImgs(e){var t;const o=async(e,t)=>{await(0,s.m)({imgs:e}),(0,d.GG)({goodsItem:t,field:"getInfoLoading",value:!1})};let n=[];n.push(e.goods_img);const l=null==e||null===(t=e.detail_image)||void 0===t?void 0:t[0],a=(null==l?void 0:l.medium_image)||l;a&&"string"==typeof a&&n.push((0,i.Y)({img:a})),window.requestIdleCallback?window.requestIdleCallback((async()=>{o(n,e)})):o(n,e)}async getAssociatedPromotionInfo({goods:e=[],caller:t}={}){await a.f.assignItems({items:e,isGetLable:!0,isGetVipPrice:!0,isAppPromotion:!0,caller:t}),e.forEach((e=>{var t;const{promotionModule:o,newFlashPromotion:i}=e,{price:s,id:l,typeId:a}=i||{};null==o||null===(t=o.rawModule)||void 0===t||t.forEach((t=>{const{flash_type:o}=t;switch(Number(null==t?void 0:t.typeId)){case 24:t.limitBuyPromotionTip=t.tips.text,"no_discount"!=t.ruleType&&(0,d.GG)({goodsItem:e,field:"label",value:"Limited Stock"});break;case 12:e.exclusivePromotionPrice=e.vipPrice;break;case 29:break;case 10:if(2==o||3==o){if(!i)return;let t=this.listLanguage.SHEIN_KEY_PC_23047;3==o&&(t=this.listLanguage.SHEIN_KEY_PC_23051),(0,d.GG)({goodsItem:e,field:"newFlashPromotion",value:{id:l,typeId:a,flash_type:o,price:s,flashTypeText:t}})}else(0,d.GG)({goodsItem:e,field:"flashsale",value:{info:t,saleProcess:t.soldNum/t.buyLimit*100,message:{soldNum:`${(0,n.v)(t.soldNum,this.language.SHEIN_KEY_PC_14587)}`,soldPercent:`${(t.soldNum/t.buyLimit*100).toFixed(0)}%`}}});break;case 8:(0,d.GG)({goodsItem:e,field:"apponly",value:!0})}})),(0,d.GG)({goodsItem:e,field:"mixPromotionInfo",value:o.rawModule}),(0,d.GG)({goodsItem:e,field:"promotionReady",value:!0}),(0,d.GG)({goodsItem:e,field:"newFlashPromotionReady",value:!0})}))}dealExt({goodsItem:e=null}={}){if(!e)return;const t=e.ext,o=e.dynamic_ext;t&&(t.other_ext_mark=Object.keys(t).reduce(((e,o)=>("rec_mark"!=o&&"extra_mark"!=o&&e.push(`${o}_${t[o]}`),e)),[]).join("|")),o&&(o.other_d_ext_mark=Object.keys(o).map((e=>`${e}_${o[e]}`)).join("|"))}dealUnitDiscount({goodsItem:e=null}={}){var t;if(!e||(!e.unit_discount||0===Number(e.unit_discount))&&!e.newFlashPromotion)return;let o={};const i=null===(t=e.newFlashPromotion)||void 0===t?void 0:t.discount_percent,s=i||e.unit_discount;o.unitDiscountString=s?`${"il"!==this.lang?"-":""}${s}%`:"",o.newFlashDiscount=i,(0,d.GG)({goodsItem:e,field:"discountInfo",value:{...o,show:!!o.unitDiscountString}})}async dealBadge({goodsItem:e=null,abtInfo:t}={}){if(!e||!e.badges||!this.fields.cccTspBadges)return void(0,d.GG)({goodsItem:e,field:"badgesReady",value:!0});const{P_UPPER_LEFT:o,P_BOTTOM_LEFT:i,BELOW_PRICE:s}=e.badges,n=e=>70007016==e,l=(t,o)=>{var i,s;const{name:l,"name-en":a,backgroundColor:r,fontColor:c,id:g}=o[0],u={text:l,fontColor:c,backgroundColor:r,code:`show_label_${(null==a||null===(i=a.split(" "))||void 0===i||null===(s=i.join("_"))||void 0===s?void 0:s.toLowerCase())||""}`,isLowInStock:n(g)};(0,d.GG)({goodsItem:e,field:t,value:u})};if(o){var a,r;let e="imgUpperLeft";"FrontTitle"==(null==t||null===(a=t.NewPosition)||void 0===a||null===(r=a.p)||void 0===r?void 0:r.NewPosition)&&(e="frontTitle"),l(e,o)}i&&l("imgBottomLeft",i),s&&l("goodsBottom",s),(0,d.GG)({goodsItem:e,field:"badgesReady",value:!0})}dealSeriesBrandAnalysis({goodsItem:e=null,IS_RW:t=!1}={}){if(!e)return;"undefined"!=typeof window&&(t=this.IS_RW);const{image_url:o,name:i}=e.series||e.series_badge||{},{name:s,brand_logo:n}=e.brand||e.brand_badge_new||{},l=!t&&i?`${i} `:"";let a="";l&&o?a=`series_${l.toLowerCase()}`:t&&1==e.isAlone?a="series_romweoriginals":s&&n&&(a=`brand_${s.toLowerCase()}`),(0,d.GG)({goodsItem:e,field:"seriesOrBrandAnalysis",value:a})}async dealSeriesBrandLogo({goodsItem:e=null}={}){if(!e)return;const t=e.series||e.series_badge||{},o=e.brand||e.brand_badge_new||{};if(this.IS_RW)t.image_url?(0,d.GG)({goodsItem:e,field:"seriesOrBrandLogoBottom",value:t.image_url}):e.isAlone&&1===Number(e.isAlone)&&(0,d.GG)({goodsItem:e,field:"romweoriginals",value:this.listLanguage.SHEIN_KEY_PC_17141});else{const i=this.GB_cssRight?t.corner_img_right:t.corner_img_left;i&&(0,d.GG)({goodsItem:e,field:"seriesLogo",value:i});const s=o.corner_img_left;s&&(0,d.GG)({goodsItem:e,field:"brandLogo",value:s})}}dealGoodsDetailUrl({goodsItem:e=null,query:t={}}={}){var o;if(!e)return;let i=null===(o=this.getGoodsUrl)||void 0===o?void 0:o.call(this,e.goods_url_name,e.goods_id,e.cat_id);if(t&&"[object Object]"===Object.prototype.toString.call(t)){let e=[];Object.keys(t).forEach((o=>{t[o]&&e.push(`${o}=${t[o]}`)})),e.length>0&&(i+=`?${e.join("&")}`)}e.detail_url=i}dealPlusSize({goodsItem:e=null}){if(e&&e.is_show_plus_size&&0!==Number(e.is_show_plus_size)){var t;if(!(this.IS_RW||null!=e&&null!==(t=e.pretreatInfo)&&void 0!==t&&t.seriesLogo)){const t=this.GB_cssRight?"curve-plus-r-52ab3e3dc6.png":"curve-plus-b50bac3f89.png";(0,d.GG)({goodsItem:e,field:"seriesLogo",value:`/she_dist/images/plusSize/${t}`}),(0,d.GG)({goodsItem:e,field:"plusSizeDefault",value:!0})}(0,d.GG)({goodsItem:e,field:"plusSize",value:this.listLanguage.SHEIN_KEY_PC_16973})}}dealSaleout({goodsItem:e=null}){if(!e)return;const{stock:t,attrValueId:o,sizeStock:i,sku_code:s}=e,n=s||+o?i:t;0!=+e.is_on_sale&&0!=+n||(0,d.GG)({goodsItem:e,field:"saleout",value:{show:!0,message:this.listLanguage.SHEIN_KEY_PC_14617}})}dealLeftStock({goodsItem:e=null}){if(!e||!this.itemConfig.showLeftStock&&!this.itemConfig.showLeftStockShein)return;const{stock:t,attrValueId:o,sizeStock:i,sku_code:s}=e,l=s||+o?i:t;+l>0&&+l<10&&(0,d.GG)({goodsItem:e,field:"stockLeft",value:(0,n.v)(l,this.listLanguage.SHEIN_KEY_PC_16400)}),(0,d.GG)({goodsItem:e,field:"stockLeftReady",value:!0})}dealLinkQuantity({goodsItem:e=null}){if(!e||!this.itemConfig.showLikeQuantity)return;let{count:t}=e;0==t&&(t=1),t&&t>999&&(t=Math.floor(t/1e3*10)/10+"k"),(0,d.GG)({goodsItem:e,field:"likeQuantity",value:{quantity:t,icon:"sui_icon_save_completed_16px",tip:`${t} ${this.listLanguage.SHEIN_KEY_PC_15512}`}})}dealReducePrice({goodsItem:e=null}){var t;this.itemConfig.showReducePrice&&(null!==(t=e.reducePrice)&&void 0!==t&&t.amountWithSymbol&&(0,d.GG)({goodsItem:e,field:"reducePrice",value:(0,n.v)(e.reducePrice.amountWithSymbol,this.listLanguage.SHEIN_KEY_PC_16553)}),(0,d.GG)({goodsItem:e,field:"reducePriceReady",value:!0}))}dealWishStatus({goodsItem:e=null}){this.itemConfig.showAddWishlist&&(0,d.GG)({goodsItem:e,field:"addWishlistResult",value:e.wishStatus})}dealSellingPoints({goodsItem:e=null}){if(null==e||!e.tag_result||!this.itemConfig.showSellingPoint)return(0,d.GG)({goodsItem:e,field:"sellingPointsReady",value:!0});let t=[];for(let o of e.tag_result)for(let e of o.tags)e.tag_id=o.tag_id,t.push(e);t=t.sort(((e,t)=>e.tag_sort-t.tag_sort)),(0,d.GG)({goodsItem:e,field:"sellingPoints",value:t}),(0,d.GG)({goodsItem:e,field:"sellingPointsReady",value:!0})}dealLocalShipping({goodsItem:e=null}){var t;if(!e||null===(t=this.mallInfoForSite)||void 0===t||!t.length)return(0,d.GG)({goodsItem:e,field:"localMallReady",value:!0});let o={};const{language_mall_name:i,mall_tags:s}=this.mallInfoForSite.find((t=>t.mall_code==e.mall_code))||{};if(!s)return(0,d.GG)({goodsItem:e,field:"mallTagsInfo",value:o}),void(0,d.GG)({goodsItem:e,field:"localMallReady",value:!0});const n=s.includes("4"),l=s.includes("5");Object.assign(o,{localMall:l&&!n,mall_tags:s,language_mall_name:i}),(0,d.GG)({goodsItem:e,field:"mallTagsInfo",value:o}),(0,d.GG)({goodsItem:e,field:"localMallReady",value:!0})}dealSellAttr({goodsItem:e}){if(!e||!this.itemConfig.showSellAttr||!e.sku_attr_list)return;const t=e.sku_attr_list.reduce(((e,t)=>(0===t.is_main&&e.push(t.attr_value_multi_name),e)),[]);(0,d.GG)({goodsItem:e,field:"sellAttr",value:t.join("/")})}syncWishStatus({goodsItem:e,params:{status:t}}){(0,d.GG)({goodsItem:e,field:"addWishlistResult",value:t})}dealTspLabels({goodsItem:e}){}dealDisplayWindowInfo({goodsItem:e}){var t,o,i;if(!e)return;let s=this.itemConfig.showUserCommentKeywordsLabel,n=null!==(t=e.userCommentKeywordsLabel)&&void 0!==t?t:{},l=null!==(o=null==n?void 0:n.labelLangEn)&&void 0!==o?o:"";if(s&&l){const t=`show_review_label_${l}`;(0,d.GG)({goodsItem:e,field:"userCommentKeywordsLabel",value:{...n,ana:t}})}else if(this.itemConfig.showUserBehaviorLabel){var a,r;const t=null===(a=e.pcStandardView)||void 0===a||null===(r=a.userBehaviorLabels)||void 0===r?void 0:r[0];var c,g;if(t)(0,d.GG)({goodsItem:e,field:"userBehaviorLabel",value:{...t,ana:["show_behavior_label",t.labelId,null===(c=t.labelLangEn)||void 0===c||null===(g=c.split(" "))||void 0===g?void 0:g.join("_")].join("_")}})}if(this.itemConfig.showBeltLabel&&(null===(i=e.pretreatInfo)||void 0===i||!i.showBestDeal)){var u;const t=null===(u=e.pcStandardView)||void 0===u?void 0:u.beltLabels;t&&(0,d.GG)({goodsItem:e,field:"beltLabel",value:{...t,ana:`belt_CCC${t.labelId}`}})}if(this.itemConfig.showRankingList){var h;const t=null===(h=e.pcStandardView)||void 0===h?void 0:h.rankingList;t&&(0,d.GG)({goodsItem:e,field:"rankingList",value:{...t,ana:`show_rank_type_${t.rankingType}`}})}}async addToBag({goodsItem:e=null,selectedSize:t="",skuCode:o="",hasAttr:i=!1}=null){var s;if(!e)return;let n={};if(null!=e&&null!==(s=e.pretreatInfo)&&void 0!==s&&s.addToBagLoading)return n.type="requesting",n;if(i&&!t)return n.type="noSelectSize",n.response={code:1},n;let l={goodsId:e.goods_id,mallCode:e.mall_code,quantity:1};o&&(l.skuCode=o);const a=gbExposeTraceid("getComponent",{componentName:"goodslist"});a&&(l.traceId=a),(0,d.GG)({goodsItem:e,field:"addToBagLoading",value:!0}),(0,d.GG)({goodsItem:e,field:"addToBagResult",value:""});const c=await r.A.addToBag(l);if(!c)return n.type="requestError",n;const{code:g,info:u,tips:h}=n.response=c||{};return 0==g&&u?n.type="success":(n.type="businessError",n.businessErrorCode=Number(g)),h&&(0,d.GG)({goodsItem:e,field:"addToBagResult",value:h}),(0,d.GG)({goodsItem:e,field:"addToBagLoading",value:!1}),n}async addWish({goodsItem:e=null,params:t,config:o}){return r.A.addWish({goodsItem:e,params:t,config:o})}async cancelWish({goodsItem:e=null,params:t}){return r.A.cancelWish({goodsItem:e,params:t})}}},403332:function(e,t,o){o.d(t,{v:function(){return s}});var i=o(12651);const s={done:!1,fetch:!1,poskey:["SellingPoint","AllListQuickShip"],newPoskey:["FollowLabel","discountLabel","greysellingPoint","sheinappwordsize","goodsSpace","listtagSorting","listrankingTag","CccxPcPicSize"],show:{showSellingPoint:!1,showQuickShip:!1,showBadge:!1,showNewDiscountLabel:!1,showGreySellingPoint:!1},awaitQueue:[],fetchAbt(e,t){if(s.done)return e(s.show);if(s.fetch)return void s.awaitQueue.push(e);let o="cart-saved-items"===t;s.fetch=!0,i.T.getUserAbtResult({posKeys:s.poskey.join(),newPosKeys:s.newPoskey.join()}).then((t=>{var i,n,l,a,r,d,c,g,u,h,m,f,p,w,v,I,y,_;s.show.showFollowLabel="show"===(null===(i=t.FollowLabel)||void 0===i||null===(n=i.p)||void 0===n?void 0:n.ShowFollowLabel),s.show.showSellingPoint="type=sellingpoint"==(null===(l=t.SellingPoint)||void 0===l?void 0:l.param),s.show.showQuickShip="type=B"==(null===(a=t.AllListQuickShip)||void 0===a?void 0:a.param),s.show.showBadge=!0,s.show.showNewDiscountLabel="Label"==(null==t||null===(r=t.discountLabel)||void 0===r||null===(d=r.param)||void 0===d?void 0:d.discountLabel),s.show.showGreySellingPoint="grey"==(null==t||null===(c=t.greysellingPoint)||void 0===c||null===(g=c.param)||void 0===g?void 0:g.greysellingPoint),s.show.showSheinappwordsize=o&&"newprice"==(null==t||null===(u=t.sheinappwordsize)||void 0===u||null===(h=u.param)||void 0===h?void 0:h.sheinappwordsize),s.show.showGoodsSpace=o&&"newSpace"==(null==t||null===(m=t.goodsSpace)||void 0===m||null===(f=m.param)||void 0===f?void 0:f.goodsSpace),s.show.showHorseRaceLabel=!(null==t||null===(p=t.listtagSorting)||void 0===p||null===(w=p.param)||void 0===w||!w.tagsortingContent),s.show.addRankingLabelToSwiper="on"===(null==t||null===(v=t.listrankingTag)||void 0===v||null===(I=v.param)||void 0===I?void 0:I.rankingTag),s.show.showPclistCropping=!1,s.show.picSize=null==t||null===(y=t.CccxPcPicSize)||void 0===y||null===(_=y.param)||void 0===_?void 0:_.CccxPcPicSize,s.done=!0,s.fetch=!1,e(s.show),s.awaitQueue.length&&s.awaitQueue.forEach((e=>{e(s.show)}))}))}}}}]);
//# sourceMappingURL=26391-a75a497fc376f7ab.js.map