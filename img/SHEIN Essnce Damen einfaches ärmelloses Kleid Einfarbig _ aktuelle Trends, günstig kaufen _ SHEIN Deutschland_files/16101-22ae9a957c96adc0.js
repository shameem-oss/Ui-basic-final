(self.webpackChunkSHEIN_W=self.webpackChunkSHEIN_W||[]).push([[16101],{223446:function(e,o,t){"use strict";t.r(o);var i=t(488276),l=t.n(i),r=t(458508),n=t.n(r)()(l());n.push([e.id,".cart__down-time{color:#c44a01;font-size:12px;font-weight:400}[mir] .cart__down-time{margin-top:6px}.cart__down-time .time-content{color:#c44a01;direction:ltr;display:inline-block;font-weight:400}.cart__down-time .time-content span{color:#c44a01;display:inline;font-weight:400}","",{version:3,sources:["webpack://./public/src/pages/cart_new/components/CartCountDown.vue"],names:[],mappings:"AAEA,iBAGE,aAAA,CACA,cAAA,CAFA,eA4BF,CA9BA,uBACE,cA6BF,CA9BA,+BAQI,aAAA,CAEA,aAAA,CAJA,oBAAA,CACA,eA8BJ,CArCA,oCAcM,aAAA,CAFA,cAAA,CACA,eA6BN",sourcesContent:["@import '~public/src/less/variables.less';@import '~public/src/less/mixins/lib.less';@import '~public/src/less/mixins/grid.less';@import '~public/src/less/mixins/buttons.less';@import '~public/src/less/mixins/clamp.less';@import '~public/src/less/mixins/discount_tag.less';@sui_color_brand: #000000;@sui_color_main: #222222;@sui_color_discount: #FA6338;@sui_color_discount_dark: #C44A01;@sui_color_promo: #FA6338;@sui_color_promo_dark: #C44A01;@sui_color_promo_bg: #FFF6F3;@sui_color_highlight: #C44A01;@sui_color_highlight_special: #337EFF;@sui_color_welfare: #FA6338;@sui_color_welfare_dark: #C44A01;@sui_color_welfare_bg: #FFF6F3;@sui_color_honor: #FACF19;@sui_color_safety: #198055;@sui_color_safety_bg: #F5FCFB;@sui_color_new: #3CBD45;@sui_color_link: #2D68A8;@sui_color_note_light_bg: #EFF3F8;@sui_color_flash: #FACF19;@sui_color_guide: #FE3B30;@sui_color_unusual: #BF4123;@sui_color_unusual_bg: #FAF0EE;@sui_color_success: #198055;@sui_color_prompt_unusual: #FFE1DB;@sui_color_prompt_warning: #FFF1D5;@sui_color_prompt_success: #E5F5E6;@sui_color_prompt_common: #D9EAFF;@sui_color_button_stroke_light: #BBBBBB;@sui_color_micro_emphasis: #A86104;@sui_color_micro_emphasis_bg: #FFF8EB;@sui_color_lightgreen: #198055;@sui_color_warning: #EF9B00;@sui_color_black: #000000;@sui_color_black_alpha80: rgba(0,0,0,.8);@sui_color_black_alpha60: rgba(0,0,0,.6);@sui_color_black_alpha30: rgba(0,0,0,.3);@sui_color_white: #ffffff;@sui_color_white_alpha80: rgba(255,255,255,.8);@sui_color_white_alpha60: rgba(255,255,255,.6);@sui_color_white_alpha30: rgba(255,255,255,.3);@sui_color_white_alpha96: rgba(255,255,255,.96);@sui_color_gray_dark1: #222222;@sui_color_gray_alpha60: rgba(34,34,34,.6);@sui_color_gray_alpha30: rgba(34,34,34,.3);@sui_color_gray_dark2: #666666;@sui_color_gray_dark3: #767676;@sui_color_gray_light1: #959595;@sui_color_gray_light2: #bbbbbb;@sui_color_gray_light3: #cccccc;@sui_color_gray_weak1: #e5e5e5;@sui_color_gray_weak2: #F6F6F6;@sui_color_gray_weak1a: #F2F2F2;@sui_color_club_rosegold_dark1: #873C00;@sui_color_club_rosegold_dark2: #C96E3F;@sui_color_club_rosegold_dark3: #DA7E50;@sui_color_club_rosegold_dark4: #EAA27E;@sui_color_club_rosegold: #FFBA97;@sui_color_club_rosegold_light1: #FFD8C4;@sui_color_club_rosegold_light2: #FFE2D3;@sui_color_club_gold: #FEECC3;@sui_color_club_black: #161616;@sui_color_club_orange: #FF7F46;\n\n.cart__down-time{\n  margin-top: 6px;\n  font-weight: normal;\n  color: @sui_color_highlight;\n  font-size: 12px;\n  .time-content{\n    display: inline-block;\n    font-weight: normal;\n    color: @sui_color_highlight;\n    /* rtl:begin:ignore */\n    direction: ltr;\n    span{\n      display: inline;\n      font-weight: normal;\n      color: @sui_color_highlight;\n    }\n  }\n}\n"],sourceRoot:""}]),o.default=n},495988:function(e,o,t){"use strict";t.r(o);var i=t(488276),l=t.n(i),r=t(458508),n=t.n(r)()(l());n.push([e.id,"[mir] .new-down-time .count-number[data-v-686cfb8c]{background:#fff;padding:1px 2px}.activity-tips[data-v-686cfb8c],.new-down-time .time-content[data-v-686cfb8c],.new-down-time .time-content span[data-v-686cfb8c]{color:#222}","",{version:3,sources:["webpack://./public/src/pages/cart_new/components/CartCountDown.vue"],names:[],mappings:"AAEA,oDAEI,eAAA,CACA,eAyBJ,CAhBA,iIACE,UAwBF",sourcesContent:["@import '~public/src/less/variables.less';@import '~public/src/less/mixins/lib.less';@import '~public/src/less/mixins/grid.less';@import '~public/src/less/mixins/buttons.less';@import '~public/src/less/mixins/clamp.less';@import '~public/src/less/mixins/discount_tag.less';@sui_color_brand: #000000;@sui_color_main: #222222;@sui_color_discount: #FA6338;@sui_color_discount_dark: #C44A01;@sui_color_promo: #FA6338;@sui_color_promo_dark: #C44A01;@sui_color_promo_bg: #FFF6F3;@sui_color_highlight: #C44A01;@sui_color_highlight_special: #337EFF;@sui_color_welfare: #FA6338;@sui_color_welfare_dark: #C44A01;@sui_color_welfare_bg: #FFF6F3;@sui_color_honor: #FACF19;@sui_color_safety: #198055;@sui_color_safety_bg: #F5FCFB;@sui_color_new: #3CBD45;@sui_color_link: #2D68A8;@sui_color_note_light_bg: #EFF3F8;@sui_color_flash: #FACF19;@sui_color_guide: #FE3B30;@sui_color_unusual: #BF4123;@sui_color_unusual_bg: #FAF0EE;@sui_color_success: #198055;@sui_color_prompt_unusual: #FFE1DB;@sui_color_prompt_warning: #FFF1D5;@sui_color_prompt_success: #E5F5E6;@sui_color_prompt_common: #D9EAFF;@sui_color_button_stroke_light: #BBBBBB;@sui_color_micro_emphasis: #A86104;@sui_color_micro_emphasis_bg: #FFF8EB;@sui_color_lightgreen: #198055;@sui_color_warning: #EF9B00;@sui_color_black: #000000;@sui_color_black_alpha80: rgba(0,0,0,.8);@sui_color_black_alpha60: rgba(0,0,0,.6);@sui_color_black_alpha30: rgba(0,0,0,.3);@sui_color_white: #ffffff;@sui_color_white_alpha80: rgba(255,255,255,.8);@sui_color_white_alpha60: rgba(255,255,255,.6);@sui_color_white_alpha30: rgba(255,255,255,.3);@sui_color_white_alpha96: rgba(255,255,255,.96);@sui_color_gray_dark1: #222222;@sui_color_gray_alpha60: rgba(34,34,34,.6);@sui_color_gray_alpha30: rgba(34,34,34,.3);@sui_color_gray_dark2: #666666;@sui_color_gray_dark3: #767676;@sui_color_gray_light1: #959595;@sui_color_gray_light2: #bbbbbb;@sui_color_gray_light3: #cccccc;@sui_color_gray_weak1: #e5e5e5;@sui_color_gray_weak2: #F6F6F6;@sui_color_gray_weak1a: #F2F2F2;@sui_color_club_rosegold_dark1: #873C00;@sui_color_club_rosegold_dark2: #C96E3F;@sui_color_club_rosegold_dark3: #DA7E50;@sui_color_club_rosegold_dark4: #EAA27E;@sui_color_club_rosegold: #FFBA97;@sui_color_club_rosegold_light1: #FFD8C4;@sui_color_club_rosegold_light2: #FFE2D3;@sui_color_club_gold: #FEECC3;@sui_color_club_black: #161616;@sui_color_club_orange: #FF7F46;\n\n.new-down-time{\n  .count-number{\n    background: #fff;\n    padding: 1px 2px;\n  }\n  .time-content{\n    color: @sui_color_main;\n    span {\n      color: @sui_color_main;\n    }\n  }\n}\n.activity-tips {\n  color: @sui_color_main;\n}\n"],sourceRoot:""}]),o.default=n},836401:function(e,o,t){"use strict";t.d(o,{A:function(){return s}});var i=t(671717),l=JSON.parse('[{"labelText":"sales1","labelId":"3451","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/10/20/b1/1697772886b08d09cd3124931f36cf6d8700413268.png","langKey":"SHEIN_KEY_PC_27740","rules":[{"start":0,"end":50,"gear":10,"invalid":true},{"start":50,"end":100,"gear":50},{"start":100,"end":1000,"gear":100},{"start":1000,"end":10000,"gear":100},{"start":10000,"end":-1,"gear":1000}]},{"labelText":"sales2","labelId":"1661","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/10/20/b1/1697772886b08d09cd3124931f36cf6d8700413268.png","langKey":"SHEIN_KEY_PC_27740","rules":[{"start":0,"end":50,"gear":50,"invalid":true},{"start":50,"end":100,"gear":50},{"start":100,"end":1000,"gear":100},{"start":1000,"end":10000,"gear":100},{"start":10000,"end":-1,"gear":1000}]},{"labelText":"sales3","labelId":"4023","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/10/20/b1/1697772886b08d09cd3124931f36cf6d8700413268.png","langKey":"SHEIN_KEY_PC_27740","rules":[{"start":0,"end":50,"gear":50,"invalid":true},{"start":50,"end":100,"gear":50},{"start":100,"end":1000,"gear":100},{"start":1000,"end":10000,"gear":100},{"start":10000,"end":-1,"gear":1000}]},{"labelText":"views","labelId":"3454","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/10/20/d1/1697772933f8716b586b942e0abbff99e70518dd16.png","langKey":"SHEIN_KEY_PC_27741","rules":[{"start":28000,"end":30000,"gear":2000,"includeLowerLimit":true},{"start":30000,"end":40000,"gear":10000},{"start":40000,"end":50000,"gear":10000},{"start":50000,"end":-1,"gear":10000}]},{"labelText":"faves","labelId":"3457","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/10/20/e5/1697772908c04a94511c05e1dffeb954dfa7ee38fd.png","langKey":"SHEIN_KEY_PC_27742","rules":[{"start":1500,"end":3000,"gear":500,"includeLowerLimit":true},{"start":3000,"end":10000,"gear":1000},{"start":10000,"end":-1,"gear":1000}]},{"labelText":"adds","labelId":"3460","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/10/20/4a/1697772920e92cc35d8f4085502ecb95760ceb6a5e.png","langKey":"SHEIN_KEY_PC_27743","rules":[{"start":5000,"end":10000,"gear":1000,"includeLowerLimit":true},{"start":10000,"end":-1,"gear":1000}]},{"labelText":"fivestar","labelId":"3726","iconSrc":"https://img.ltwebstatic.com/images3_acp/2023/12/05/ae/1701768159e7b2a1e450ce83519ddda54cf9ff2b84.png","langKey":"SHEIN_KEY_PC_28437","rules":[{"start":100,"end":499,"gear":500,"includeLowerLimit":true},{"start":500,"end":999,"gear":500,"includeLowerLimit":true},{"start":1000,"end":-1,"gear":500,"includeLowerLimit":true}]},{"labelText":"buyagain","labelId":"207","iconSrc":"https://img.ltwebstatic.com/images3_acp/2024/01/10/83/17048822452bbc3b009f9fc87165adc011d90cb0b4.png","langKey":"SHEIN_KEY_PC_29032","rules":[{"start":100,"end":499,"gear":500,"includeLowerLimit":true},{"start":500,"end":999,"gear":500,"includeLowerLimit":true},{"start":1000,"end":-1,"gear":500,"includeLowerLimit":true}]},{"labelText":"lowestprice","labelId":["3864","4015","3865","3866","4016","4017","4018"],"iconSrc":"https://img.ltwebstatic.com/images3_acp/2024/01/10/34/170488220782049c156e484712bf212ef22637d5c3.png","langKey":"SHEIN_KEY_PC_29033","labelGear":{"30":["3864","4015","4018"],"60":["3865","4016","4018"],"90":["3866","4017","4018"]}},{"labelText":"buytime","labelId":"3878","iconSrc":"","langKey":"SHEIN_KEY_PC_29034"},{"labelText":"commentime","labelId":"4394","iconSrc":"","langKey":"SHEIN_KEY_PC_29100"}]');const{USER_BEHAVIOR_CONFIGS:r}=gbCommonInfo,n={getConfigs:()=>Array.isArray(r)&&r.length?r:l,getLabelIdsByStr:e=>e&&"Hide"!=e?n.getConfigs().filter((o=>e.includes(o.labelText))).map((e=>e.labelId)).flat():n.getConfigs().map((e=>e.labelId)).flat(),getPriorityOne:(e,o={},t={})=>n.getSortedLabels(e,o,t)[0],getPriorityOneForNormal:(e,o={},t={},i={})=>{const l=n.getSortedLabels(e,o,t,i),[r]=n.getNormalLabel(l);return r},getSortedLabels:(e,o={},t={},i={})=>{const l=!(!e||"Hide"==e),r=n.getLabelIdsByStr(e);if(null==r||!r.length||!o)return[];const s=n.getLabelConfigByIds(r).reduce(((e,r)=>{const s=n.getShowLabel(r,o,t,i);return s&&e.push({labelId:r.labelId,iconSrc:r.iconSrc,langKey:r.langKey,labelText:r.labelText,labelGear:r.labelGear||null,showLabel:s,showLabelTag:l}),e}),[]);return s.sort(((e,o)=>{var t,i,l,n;if((null===(t=e.showLabel)||void 0===t?void 0:t.level)!=(null===(i=o.showLabel)||void 0===i?void 0:i.level)&&-1!=(null===(l=e.showLabel)||void 0===l?void 0:l.level)&&-1!=(null===(n=o.showLabel)||void 0===n?void 0:n.level))return o.showLabel.level-e.showLabel.level;function s(e){const[o]=Array.isArray(e)?e:[e];return o}return r.indexOf(s(e.labelId))-r.indexOf(s(o.labelId))})),s},getLabelByNum:(e,o)=>{if(null!=o&&o.length)for(let t=0;t<o.length;t++){const{start:i,end:l,gear:r,invalid:n,includeLowerLimit:s=!1}=o[t];if((s?i<=e:i<e)&&(-1==l||l>=e)&&!n){const o=-1==l?i:i+Math.floor((e-i)/r)*r;return{level:t,text:[o<1e3?`${o}+`:o/1e3+"k+"]}}}},getText:(e,o)=>{if(!e||!e.labelId||!e.showLabelTag)return"";const{langKey:t,showLabel:l}=e;return null!=l&&l.flag?(0,i.v)(null==l?void 0:l.flag,o.SHEIN_KEY_PC_31394):(0,i.v)(...null==l?void 0:l.text,o[t])},getSaText:(e,o)=>{var t;if(!e||!e.labelId||!e.showLabelTag)return"";const{labelId:i}=e,l=n.getText(e,o);return`show_behavior_label_03_${i}_${null==l||null===(t=l.split(" "))||void 0===t?void 0:t.join("_")}`},getLabelConfigById:e=>n.getConfigs().find((o=>Array.isArray(o.labelId)?o.labelId.includes(String(e)):o.labelId===String(e))),getLabelConfigByIds:(e=[])=>[...e.reduce(((e,o)=>(e.add(n.getLabelConfigById(o)),e)),new Set)],getShowLabel:(e,o,t,i={})=>"lowestprice"===e.labelText?n.getShowLabelForLowerPrice(o,t,i):["buytime","commentime"].includes(e.labelText)?n.getShowLabelForTime(o[e.labelId]):n.getLabelByNum(o[e.labelId],e.rules),getShowLabelForTime:(e="")=>{var o;if(!e)return;const t=e.split(",").map((e=>{const o=e.split(":");return{memberId:o[0],time:o[1]}}));t.sort(((e,o)=>o.time-e.time));const{memberId:i,time:l}=t[0];if(!i||!l)return;let r="13"==(null==l||null===(o=l.toString())||void 0===o?void 0:o.length)?l:1e3*l;const n=Math.floor((Date.now()-r)/1e3);return n>=0&&n<86400?{level:-1,memberId:i,text:[(s=n,s<60?`${s}s`:s>=60&&s<3600?`${Math.floor(s/60)}m`:`${Math.floor(s/3600)}h`)]}:void 0;var s},getShowLabelForLowerPrice:(e,o,t={})=>{var i,l,r,n,s,a,u,c,d,_,m;const f=(g=(null==o||null===(i=o.product)||void 0===i?void 0:i.product_promotion_info)||(null==o?void 0:o.promotionInfo)||{},Array.isArray(g)?g:[g]);var g;const p=e=>f.find((o=>o.typeId==e||o.type_id==e)),h=p("29"),b=p("12"),v=p("32"),y=p("10"),w=y&&[2,3].includes(o.flashType||y.flashType||y.flash_type),A=v||w||h||b?(null===(l=o.product)||void 0===l||null===(r=l.feOriginalPrice)||void 0===r?void 0:r.amount)||(null===(n=o.product)||void 0===n||null===(s=n.retailPrice)||void 0===s?void 0:s.amount)||(null===(a=o.retail_price)||void 0===a?void 0:a.amount)||(null===(u=o.retailPrice)||void 0===u?void 0:u.amount):(null===(c=o.unit_price_before_coupon)||void 0===c?void 0:c.amount)||(null===(d=o.unitPrice)||void 0===d?void 0:d.amount)||(null===(_=o.sale_price)||void 0===_?void 0:_.amount)||(null===(m=o.salePrice)||void 0===m?void 0:m.amount);if(null==t?void 0:t.LowestPriceDays){if(A<=+e[3866]&&A<=+e[4017]&&e[4018]>1)return{level:-1,flag:90,text:[]};if(A<=+e[3865]&&A<=+e[4016]&&e[4018]>1)return{level:-1,flag:60,text:[]};if(A<=+e[3864]&&A<=+e[4015]&&e[4018]>1)return{level:-1,flag:30,text:[]}}if(A<=+e[3864]&&A<=+e[4015]&&e[4018]>1)return{level:-1,text:[]}},getNormalLabel:(e=[])=>{const o=e=>["buytime","commentime"].includes(e);return Array.isArray(e)?e.filter((e=>!o(e.labelText))):o(e.labelText)?void 0:e}};var s=n},311306:function(e,o,t){"use strict";t.d(o,{CK:function(){return F},Cq:function(){return L},Cz:function(){return m},HZ:function(){return b},Hf:function(){return _},Id:function(){return T},KE:function(){return d},L7:function(){return E},M7:function(){return I},MG:function(){return k},_e:function(){return S},_k:function(){return A},am:function(){return v},fS:function(){return h},iG:function(){return w},mb:function(){return C},sJ:function(){return p},xp:function(){return y}});var i=t(282645),l=t.n(i),r=t(554120),n=t(367524),s=t(671717),a=t(397990),u=t(441179),c=t(665640);const d=(e={},o={},t={})=>{let i="";if(300402==e.code)i=o.SHEIN_KEY_PC_15071;else if(["200401","500301"].indexOf(e.code+"")>=0)i=o.SHEIN_KEY_PC_14661;else if(["300714","500302","500306","302444","300417","500303"].includes(e.code+"")){var l,a,u;let o=t.promotionGroupId||"";i=(0,s.v)(null==e||null===(l=e.info)||void 0===l?void 0:l.limitCount,null==e||null===(a=e.info)||void 0===a?void 0:a.resultLimit,null==e||null===(u=e.info)||void 0===u?void 0:u.remainNum,(0,n.C)({text:e.tips})),o&&m(o,{shake:!0,changeColor:!0,scroll:!0}),i&&r.J.triggerNotice({daId:"1-7-7-13"})}else if(500304==e.code||500305==e.code){let e=t.product.product_promotion_info&&t.product.product_promotion_info.filter((e=>24==e.typeId)),o=e[0]&&+e[0].promotion_id;o&&m(o,{shake:!0,changeColor:!0,scroll:!0})}else if(300405==e.code)i=(0,s.v)(t.product.limit_count,(0,n.C)({text:o.SHEIN_KEY_PC_14560}));else if(["302411","302412","300415"].includes(e.code))i=e.tips;else if(300470==e.code){var c;i=e.tips.replace("{0}",null===(c=e.info)||void 0===c?void 0:c.single_row_capacity_limit)}else i=e.tips||o.SHEIN_KEY_PC_15805;return{msg:i,times:["500302","500306","300417","500303"].includes(e.code+"")?4e3:0}},_=(e=[],o={})=>{e.forEach(((e,t)=>{t>0&&(o.scroll=!1),m(e,o)}))},m=(e,o={})=>{var t,i,l,r;const{shake:n=!1,changeColor:s=!1,scroll:a=!1}=o,u=document.querySelector(`.j-promotion-header-${e}`);if(!u)return;let c=(null===(t=document.querySelector(".j-top-tpl"))||void 0===t||null===(i=t.getBoundingClientRect())||void 0===i?void 0:i.height)||0,d=(null===(l=document.querySelector(".j-shopbag-title"))||void 0===l||null===(r=l.getBoundingClientRect())||void 0===r?void 0:r.height)||0;const _=window.scrollY,m=u.getBoundingClientRect().top,f=c+d+146;if(a&&window.scrollTo({top:_+m-f,behavior:"smooth"}),s&&setTimeout((()=>{const e=u.querySelector(".cart_item-tip");e&&e.classList.add("cart-red-dark")}),50),n){const e=u.querySelector(".cart_item-banner");e&&e.classList.add("animated","animate-shake"),setTimeout((()=>{e&&e.classList.remove("animated","animate-shake")}),1e3)}},f=(e=[])=>{let o={orderTotalProductSize:0,skcLimitNum:{}};return e.forEach((e=>{o.orderTotalProductSize+=e.quantity,o.skcLimitNum[e.product.goods_sn]=(o.skcLimitNum[e.product.goods_sn]||0)+e.quantity})),o},g=({single:e,skcLimitNum:o,product:t})=>{let i=0;const{is_checked:l}=t;return i=l?o[t.product.goods_sn]?e-(o[t.product.goods_sn]-t.quantity):e:o[t.product.goods_sn]?e-o[t.product.goods_sn]:e,i=i<=0?-1:i,i},p=(e={},o={},t,i=!1)=>{let l,r=0,n=0;if([10].includes(+o.type_id)&&1!=o.limit_mode||[11].includes(+o.type_id)){var s;let i=!1,a=!1,u=(null===(s=o.list)||void 0===s?void 0:s.filter((e=>e.is_checked)))||[];l=f(u);let{member:c,single:d,order:_}=o.cart_limit||{};if(+d)if(e)i=t?l.skcLimitNum[e.product.goods_sn]>d:l.skcLimitNum[e.product.goods_sn]>=d,n=g({single:d,skcLimitNum:l.skcLimitNum,product:e});else{i=!!Object.values(l.skcLimitNum).find((e=>e>d))}let m=0;+c&&+_?m=Math.min(+c,+_):(+_||+c)&&(m=+c||+_),m&&(a=t?l.orderTotalProductSize>m:l.orderTotalProductSize>=m),r=parseInt(`${+Boolean(a)}${+Boolean(i)}`,2)}if([24,30].includes(+o.type_id)){var a;let i=(null===(a=o.list)||void 0===a?void 0:a.filter((e=>e.is_checked)))||[];l=f(i);let{single:s,order:u,member:c}=o.cart_limit||{};if(+s){(t?l.skcLimitNum[e.product.goods_sn]>s:l.skcLimitNum[e.product.goods_sn]>=s)&&(r=1),n=g({single:s,skcLimitNum:l.skcLimitNum,product:e})}let d=0;if(+c&&+u?d=Math.min(+c,+u):(+u||+c)&&(d=+c||+u),d){(t?l.orderTotalProductSize>d:l.orderTotalProductSize>=d)&&(r=2)}}return i?{result:r,flashSaleAndDiscountLimitHandleInfo:l,itemLimitNum:n}:r},h=(e={},o)=>{const{type:t,value:i,value_amount:l}=e,r=1==t?i:(null==l?void 0:l.amountWithSymbol)||"";return o?r:`<span class="add-buys-price">${r}</span>`},b=e=>{var o;null!=e&&null!==(o=e.target)&&void 0!==o&&o.value&&(e.target.value=e.target.value.replace(/\D/g,""))},v=(e,o=!1)=>{const t=document.documentElement.scrollTop||document.body.scrollTop;e&&setTimeout((()=>{let i=document.querySelector(`[data-cart-id="${e}"]`);if(!i)return;const{top:r,height:n}=i.getBoundingClientRect(),s=r+n/2,a=window.innerHeight/2;if(window.scrollTo({top:t-(a-s),behavior:"smooth"}),o)if(i){const u=l()((function(){var e;e=i,[d].forEach((e=>e())),e.classList.add("highlight-animate"),setTimeout((()=>{e.classList.remove("highlight-animate")}),800)}),300);function d(){window.removeEventListener("scroll",u)}window.addEventListener("scroll",u)}else c.log(".mshe-item not found")}),500)};const y=(e={},o={})=>{let t={};return Object.values(e).filter((e=>{var o;return[21,26].includes(+e.type_id)||[14].includes(+e.type_id)&&3==(null===(o=e.goods)||void 0===o?void 0:o.type)})).forEach((e=>{var i,l,r,n,s;t[e.mall_code]||(t[e.mall_code]=[]);let a=0;if(21==e.type_id){var u,c;const t=+(null==e||null===(u=e.promotion_range_info)||void 0===u||null===(c=u.diff)||void 0===c?void 0:c.value)||0;if(t){var d,_,m;const i=+(null==o||null===(d=o.mall_list)||void 0===d||null===(_=d.find((o=>o.mall_code==e.mall_code)))||void 0===_||null===(m=_.total_price)||void 0===m?void 0:m.amount)||0;a=parseInt(100*(1-t/(t+i)))}else a=100}const f={promotion_id:e.promotion_id,typeId:e.type_id,tip:(null===(i=e.content)||void 0===i?void 0:i.tip)||"",countDownTimeStamp:+e.is_count_down?e.end_time:"",add:null===(l=e.content)||void 0===l?void 0:l.action,priority:+e.is_count_down&&null!==(r=e.content)&&void 0!==r&&r.action?1:null!==(n=e.content)&&void 0!==n&&n.action?2:+e.is_count_down?3:4,diff_us_amount:null!==(s=e.content)&&void 0!==s&&s.diffAmount&&e.content.diffAmount.usdAmount||0,processCount:a};21==e.type_id&&Object.assign(f,{couponNum:e.coupon_num,allFullReduceFlag:e.all_full_reduce_flag,totalValue:e.total_value,coupons:e.coupons,lable_id:e.lable_id}),t[e.mall_code].push(f)})),Object.keys(t).forEach((e=>t[e].sort(((e,o)=>e.priority-o.priority)))),t},w=(e=[],o=[])=>{let t=1;return e.forEach((e=>{var i;let l=null==e||null===(i=e.product)||void 0===i?void 0:i.product_promotion_info;null==l||l.forEach((e=>{o.includes(+e.type_id)&&(t=0)}))})),t},A=({carts:e=[],filterIds:o=[]}={})=>{let t="",i=e;return(o=[].concat(o))&&o.length>0&&(i=e.filter((e=>o.includes(e.id)))),i.forEach(((e,o)=>{const i=e.product.goods_id,l=e.product.goods_sn,r=e.product.productRelationID,n=e.product.feSalePrice.usdAmount,s=e.product.feOriginalPrice.usdAmount;t+=`,${i}\`${l}\`${r}\`${+o+1}\`1\`1\`\`\`pri_${n}|pri_${s}\`\`\`mall_${e.mall_code}`})),t.slice(1)},S=(e,o=!1)=>{var t,i,l,r,n,s,a,u;if(-1==e.status&&!o)return!1;if(2==e.status&&[0,2,3,4].includes(+e.promotion_status))return!1;if(!(Array.isArray(e.relatedProductIds)?!e.relatedProductIds.length:!e.relatedProductIds))return!0;if(o&&(null===(t=e.mall_code_list)||void 0===t?void 0:t.length)>0)return!0;const c=0==(null===(i=e.product)||void 0===i?void 0:i.stock)&&+e.realTimeInventory<+e.quantity,d=0==(null===(l=e.product)||void 0===l?void 0:l.is_on_sale),_=(null===(r=e.product)||void 0===r?void 0:r.sku_sale_attr)&&(null===(n=e.product)||void 0===n||null===(s=n.sku_sale_attr)||void 0===s?void 0:s.filter((e=>!e.is_main&&e.attr_value_id)))||[];const m=!e.attr||"one-size"==(null===(a=e.attr)||void 0===a?void 0:a.attr_value_en)||0===(null===(u=e.attr)||void 0===u?void 0:u.attr_value_id)||e.product.sku_code&&!_.length;return!(c||d||m)},F=({item:e,IS_RW:o,customServiceImgDomains:t,thirdPartyServiceImgDomains:i})=>{var l;const r=Boolean(Object.keys((null===(l=e.product)||void 0===l?void 0:l.customization_info)||{}).length),{dprInsert:n}=a.A.methods||{};if(r&&!o){var s,c,d,_,m;const o=n({img:(null===(s=e.product)||void 0===s||null===(c=s.customization_info)||void 0===c||null===(d=c.preview)||void 0===d||null===(_=d.effects)||void 0===_?void 0:_[0])||(null===(m=e.product)||void 0===m?void 0:m.goods_img)||"",customServiceImgDomains:t,thirdPartyServiceImgDomains:i});return(0,u.Y)({img:o})}var f;return(0,u.Y)({img:null===(f=e.product)||void 0===f?void 0:f.goods_img})},C=(e,o=[],t=[])=>{const{type_id:i,promotion_id:l}=e,r={4:"1",2:"1",28:"1",22:"2",13:"2"};let n=o.filter((e=>-1==t.indexOf(e.id)));const s=n.find((e=>{var o,t;return null===(o=e.product)||void 0===o||null===(t=o.product_promotion_info)||void 0===t?void 0:t.some((e=>e.promotion_product_type==r[i]&&e.promotion_id==l))}));return{isPicked:!!s,isChecked:!(null==s||!s.is_checked)}},E=e=>{for(let o=e.length-1;o>0;o--){const t=Math.floor(Math.random()*o),i=e[o];e[o]=e[t],e[t]=i}return e},I=(e,o=!1)=>{if(!e)return;const t=window.innerHeight||document.documentElement.clientHeight,{top:i,bottom:l,height:r}=e.getBoundingClientRect(),n=.6*r;let s=!1;return 0!==r&&(s=o?i>=0&&i<=t+800||i<0&&l>=-800:i>=0&&l<=t+n||i<0&&l>=n,s)},k=e=>{var o,t;if("undefined"==typeof window)return!1;const{NEW_USER_COUPON_TYPE_ID:i=0}=gbCommonInfo||{};return 21==(null==e?void 0:e.typeId)&&(null==e||null===(o=e.coupons)||void 0===o?void 0:o.length)&&(null==e||null===(t=e.coupons)||void 0===t?void 0:t.every((e=>(null==e?void 0:e.type_id)==i)))},L=(e,o)=>{var t,i,l,r,n,s,a,u;const c=(d=(null==o||null===(t=o.product)||void 0===t?void 0:t.product_promotion_info)||(null==o?void 0:o.promotionInfo)||{},Array.isArray(d)?d:[d]);var d;const _=e=>c.find((o=>o.typeId==e||o.type_id==e)),m=_("29"),f=_("12"),g=_("10"),p=g&&[2,3].includes(o.flashType||g.flashType||g.flash_type)||m||f?(null===(i=o.product)||void 0===i||null===(l=i.feOriginalPrice)||void 0===l?void 0:l.amount)||(null===(r=o.retail_price)||void 0===r?void 0:r.amount)||(null===(n=o.retailPrice)||void 0===n?void 0:n.amount):(null===(s=o.unit_price_before_coupon)||void 0===s?void 0:s.amount)||(null===(a=o.sale_price)||void 0===a?void 0:a.amount)||(null===(u=o.salePrice)||void 0===u?void 0:u.amount),h=(null==e?void 0:e[4018])||"",b=+((null==e?void 0:e[3864])||""),v=+((null==e?void 0:e[4015])||""),y=+((null==e?void 0:e[3865])||""),w=+((null==e?void 0:e[4016])||""),A=+((null==e?void 0:e[3866])||""),S=+((null==e?void 0:e[4017])||"");return{30:p<=b&&p<v&&h>1&&30,60:p<=y&&p<w&&h>1&&60,90:p<=A&&p<S&&h>1&&90}},T=({defaultlocalsize:e,skuSaleAttr:o,sizeRuleList:t,userLocalSizeCountry:i})=>{const l={old:{cartSize:({defaultAttr:e,localAttr:o})=>o?`${o}(${e})`:e,localSize({defaultAttr:e,localAttr:o}){return o?`${o}(${e})`:e},defaultSize({defaultAttr:e}){return e}},new:{cartSize:({defaultAttr:e})=>e,localSize({defaultAttr:e,localAttr:o}){return o?`${o}(${e})`:e},defaultSize({defaultAttr:e}){return e}},local_size_no_default:{cartSize:({defaultAttr:e,localAttr:o})=>o||e,localSize({defaultAttr:e,localAttr:o}){return o||e},defaultSize({defaultAttr:e}){return e}},default_size_no_default:{cartSize:({defaultAttr:e})=>e,localSize({defaultAttr:e,localAttr:o}){return o||e},defaultSize({defaultAttr:e}){return e}}};return(()=>{var r,n;const s=null!==(r=l[e])&&void 0!==r?r:l.old,a=i?"default"===i?s.defaultSize:s.localSize:s.cartSize,u=((e=[])=>null==e?void 0:e.reduce(((e,o)=>({...e,[o.name]:o})),{}))(t);return null!==(n=null==o?void 0:o.map((e=>{var o;return 1!=e.is_main?a({defaultAttr:e.attr_value_name,localAttr:null===(o=u[e.attr_value_name_en])||void 0===o?void 0:o.correspond}):e.attr_value_name})))&&void 0!==n?n:[]})()}},397990:function(e,o,t){"use strict";var i=t(786721);o.A={methods:{dprInsert({img:e="",customServiceImgDomains:o,thirdPartyServiceImgDomains:t}){var l,r;let n=!1;"undefined"!=typeof window&&(n=window.devicePixelRatio>1,!o&&(o=window.gbCommonInfo.CUSTOMIZATION_PRODUCT_IMAGE_DOMAINS.CUSTOM_SERVICE||[]),!t&&(t=window.gbCommonInfo.CUSTOMIZATION_PRODUCT_IMAGE_DOMAINS.THIRD_PARTY_SERVICE||[]));const s=n?"400":"200";if(null!==(l=o)&&void 0!==l&&l.some((o=>e.indexOf(o)>-1)))return e;if(null!==(r=t)&&void 0!==r&&r.some((o=>e.indexOf(o)>-1))){const o=`x-oss-process=image/resize,w_${s}`;return e.indexOf("?")>-1?`${e}&${o}`:`${e}?${o}`}return i.Vc.logWarn({tag:"CUSTOMIZATION_PRODUCT_IMAGE_WARNING",message:{imgUrl:e}},{immediate:!0}),e}}}},716009:function(e,o,t){var i=t(223446);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,t(474424).A)("3f5d793a",i,!0,{})},161651:function(e,o,t){var i=t(495988);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,t(474424).A)("7038f579",i,!0,{})},59714:function(e,o,t){"use strict";t.d(o,{A:function(){return c}});var i=t(274061);const l={class:"time-content"};var r=t(974121),n=t(671717),s=t(665640),a={props:{countDown:{type:Object,required:!1,default(){return{}}},timeStamp:{type:Number,required:!1,default:0},isLeftTime:{type:Boolean,required:!1,default:!1},showType:{type:String,default:""},fontSize:{type:String,default:"12px"},showEndTips:{type:Boolean,default:!1},notHide:{type:Boolean,default:!1},notReload:{type:Boolean,default:!1}},data:function(){return{language:{},diffDays:"",diffHours:"",diffMinutes:"",diffSeconds:"",timer:null,showCountDown:!0}},computed:{daysComputed(){const{diffDays:e}=this;return e>1?`${e} ${this.language.SHEIN_KEY_PC_17212||"Days"}`:1==e?`${e} ${this.language.SHEIN_KEY_PC_15173||"Day"}`:""}},created(){this.init()},beforeUnmount(){this.timer&&clearInterval(this.timer)},methods:{template:n.v,async init(){const e=this.timeStamp?u({endTimestamp:this.isLeftTime?Date.now()+1e3*this.timeStamp:this.timeStamp}):"object"==typeof this.countDown?this.countDown:u({endTimestamp:this.countDown});this.diffDays=["inline-promotion","promotion-tab"].includes(this.showType)?0:+e.diffDays,this.diffHours=["inline-promotion","promotion-tab"].includes(this.showType)?+e.diffHours+24*+e.diffDays:+e.diffHours,this.diffMinutes=+e.diffMinutes,this.diffSeconds=+e.diffSeconds,this.setTimer(),e.diffTime<=0&&(this.showCountDown=!1),this.language=await r.A.loadByQueue("promotion")},setTimer(){this.timer?s.log(""):this.timer=setInterval((()=>{this.diffSeconds-1>=0?this.diffSeconds=this.diffSeconds-1:this.diffMinutes-1>=0?(this.diffMinutes=this.diffMinutes-1,this.diffSeconds=59):this.diffHours-1>=0?(this.diffHours=this.diffHours-1,this.diffMinutes=59,this.diffSeconds=59):this.diffDays-1>=0?(this.diffDays=this.diffDays-1,this.diffHours=24,this.diffMinutes=59,this.diffSeconds=59):(clearInterval(this.timer),this.notHide||(this.showCountDown=!1),this.notReload||window.location.reload(!0))}),1e3)},twoNums(e){return"number"!=typeof e||isNaN(e)?"":e<10?`0${e}`:`${e}`}}};function u({endTimestamp:e=0}){let o=e||0;o&&(o=(o+"").length>=13?o:1e3*o);const t=o-(new Date).getTime(),i=Math.floor(t/1e3/60/60/24),l=Math.floor(t/1e3/60/60-24*i),r=Math.floor(t/1e3/60-24*i*60-60*l);return{diffTime:t,diffDays:i,diffHours:l,diffMinutes:r,diffSeconds:Math.floor(t/1e3-24*i*60*60-60*l*60-60*r)}}t(716009),t(161651);var c=(0,t(243276).A)(a,[["render",function(e,o,t,r,n,s){return(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("p",{class:(0,i.normalizeClass)(["c-count-down-time cart__down-time",["inline-promotion"==t.showType?"new-down-time":"count-down-time",{active:0==e.diffDays}]])},[(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)({"activity-tips":t.showEndTips})},(0,i.toDisplayString)(t.showEndTips?e.language.SHEIN_KEY_PC_24840:"inline-promotion"==t.showType?"":s.template("",e.language.SHEIN_KEY_PC_17111)),3),(0,i.createElementVNode)("span",l,[(0,i.withDirectives)((0,i.createElementVNode)("span",{class:"count-number count-down-days"},(0,i.toDisplayString)(s.daysComputed)+" ",513),[[i.vShow,e.diffDays]]),(0,i.createElementVNode)("span",{class:"count-number count-down-hours",style:(0,i.normalizeStyle)({fontSize:t.fontSize})},(0,i.toDisplayString)(s.twoNums(e.diffHours)),5),(0,i.createTextVNode)(": "),(0,i.createElementVNode)("span",{class:"count-number count-down-mins",style:(0,i.normalizeStyle)({fontSize:t.fontSize})},(0,i.toDisplayString)(s.twoNums(e.diffMinutes)),5),(0,i.createTextVNode)(": "),(0,i.createElementVNode)("span",{class:"count-number count-down-secs",style:(0,i.normalizeStyle)({fontSize:t.fontSize})},(0,i.toDisplayString)(s.twoNums(e.diffSeconds)),5)])],2)),[[i.vShow,e.showCountDown]])}],["__scopeId","data-v-686cfb8c"]])}}]);
//# sourceMappingURL=16101-22ae9a957c96adc0.js.map